<h2>ColorDispute</h2>

<h3>Идея</h3>
    Приложение формирует огромное количество чат-комнат. Они существуют, пока в них есть хоть один пользователь.
    После выхода последнего комната уничтожается, став никому не интересной.
    Похоже на случайную болтовню, которой много в обычной жизни.
    Вдохновлено сервисами мгновенной публикации <a href="http://telegra.ph/">telegra.ph</a> и <a href="http://pen.io/">pen.io</a>,
    где минимализм и анонимность возведены взяты за основу, и где задача связывать статьи между собой полностью возложена на пользователя.
    Тут можно выбрать себе цвет фона и шрифта, что бы визуально связать свои сообщения.
    <details>
        <summary>Как это выглядит</summary>
        <img src="/doc/interface_example.jpg" alt="Внешний вид."> 
    </details>
    
<h3>Причина</h3>
    Тестовое задание для собеседования, в <a href="https://ktsstudio.com/">KTS</a>.
    Пытаюсь устроиться стажёром Go.
    
<h3>Реализация</h3>
    Сервер написан на Go, с использованием библиотеки из 
    <a href="https://github.com/gorilla/websocket">Gorilla web toolkit</a>.
    Каждое соединение обслуживают 2 горутины - на чтение из сокета, и на запись.
    Ещё одна горутина на комнату занимается рассылкой обновлений.  
    Единственная глобальная блокировка - на добавление / уничтожение комнат.
    Клиент свёрстан на html. Использовалось чистое <a href="https://learn.javascript.ru/websockets">api websocket'ов</a>.

<h3>Запуск</h3>
    Nginx должен отдавать 2 страницы, и сервер должен быть запущен. Я полностью переделал на Docker.

    cd staticserver/
    sudo docker build . -t staticserver
    sudo docker run -d -p 8080:80 staticserver
    
    cd websocketserver/
    sudo docker build . -t websocketserver
    sudo docker run -d -p 8000:8000 websocketserver
    
